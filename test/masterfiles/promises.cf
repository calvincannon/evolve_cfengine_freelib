body common control
{
	bundlesequence => { "main", };
   inputs => { "@{cfengine_stdlib.inputs}",
      "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/EFL/evolve_freelib.cf",
      "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/EFL/efl_common.cf"
   };
}

bundle common cfengine_stdlib
{
  vars:
      "inputs" slist => {
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/paths.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/common.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/commands.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/packages.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/files.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/services.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/processes.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/storage.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/databases.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/monitor.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/guest_environments.cf",
           "lib/$(sys.cf_version_major).$(sys.cf_version_minor)/bundles.cf",
      };
}

bundle agent main
{
	methods:

   001_efl_test::
		"any" usebundle => efl_main( "../001/efl_main.csv" );
   002_efl_test::
		"any" usebundle => efl_main( "../002/efl_main.json" );
   003_efl_test::
		"any" usebundle => efl_main( "../003/efl_main.csv" );
   004_efl_test::
		"any" usebundle => efl_main( "../004/efl_main.json" );
   005_efl_test::
		"any" usebundle => efl_main( "../005/efl_main.csv" );
   006_efl_test::
		"any" usebundle => efl_main( "../006/efl_main.json" );
   007_efl_test::
		"any" usebundle => efl_main( "../007/efl_main.csv" );
   008_efl_test::
		"any" usebundle => efl_main( "../008/efl_main.json" );

   reports:
      005_efl_test|006_efl_test::
         "efl_global_lists.ntp_servers  => [${efl_global_slists.ntp_servers}]";
         "efl_global_lists.name_servers => [${efl_global_slists.name_servers}]";
         "efl_global_lists.web_servers  => [${efl_global_slists.web_servers}]";
}
